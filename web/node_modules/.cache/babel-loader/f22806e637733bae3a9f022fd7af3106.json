{"ast":null,"code":"var _jsxFileName = \"/Users/sky/Documents/Vaultv2_meta/web/src/parts/create-nft-cluster.comp.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { Base } from \"./base.comp\";\nimport { Button, Center } from \"@chakra-ui/react\";\nimport { useAccountItems } from \"../hooks/use-account-items.hook\";\nimport { IDLE } from \"../global/constants\";\nimport { useAddress } from \"../hooks/use-url-address.hook\";\nimport { useCurrentUser } from \"../hooks/use-current-user.hook.js\";\nimport { Int } from \"@onflow/types\";\nimport IpfsUpload from './ipfsUpload.comp';\nimport { buildNFT } from \"../pages/routepages/newNFT.page\"; //import { CidDict, cidID } from \"./account-items-cluster.comp\"\n\nimport pinataSDK from '@pinata/sdk';\nimport { hash } from './ipfsUpload.comp';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst pKey = process.env.REACT_APP_PINATA_API_KEY;\nconst pSKey = process.env.REACT_APP_PINATA_SECRET_API_KEY;\nconst pinata = pinataSDK(pKey, pSKey);\nvar name;\nvar des;\nvar price;\nvar auction;\nvar p3;\nexport function IpfsMetadata(cid) {\n  const metadata = {\n    name: String(name),\n    keyvalues: {\n      Description: String(des),\n      Price: String(price),\n      AuctionLength: String(auction),\n      ImmediatePrice: String(p3)\n    }\n  };\n  pinata.hashMetadata(cid, metadata).then(result => {\n    //handle results here\n    console.log(result);\n  }).catch(err => {\n    //handle error here\n    console.log(err);\n  });\n}\n_c = IpfsMetadata;\nexport default function CreateNFTCluster() {\n  _s();\n\n  const [title1, setTitle1] = useState('');\n  const [description, setDescription] = useState('');\n  const [price1, setPrice1] = useState(null);\n  const [price2, setPrice2] = useState('');\n  const [price3, setPrice3] = useState('');\n  const [length, setLength] = useState('');\n  const [showHide1, setShowHide1] = useState(false);\n  const [showHide2, setShowHide2] = useState(false);\n  const [showHide3, setShowHide3] = useState(false);\n  const [state, setState] = useState({\n    title1: '',\n    description: '',\n    price1: Int,\n    price2: '',\n    price3: '',\n    length: ''\n  });\n  const [cu, user] = useCurrentUser();\n  const address = useAddress();\n  const items = useAccountItems(address);\n  if (address == null) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Not Found\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 33\n  }, this); // Form submitting logic, prevent default page refresh \n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (cu.addr === address) {\n      console.log(\"good\"); //items.mint()\n    } else {\n      alert(`Must be logged on to your account`);\n    }\n\n    if (title1 === '') {\n      alert(`\n        You must enter a Name for the NFT.\n      `);\n    }\n\n    if (description === '') {\n      alert(`\n        You must enter a Description for the NFT.\n      `);\n    }\n\n    if (price1 === null && showHide1 === false && showHide2 === false) {\n      alert(`\n        You must enter a Price for the NFT.\n      `);\n    }\n\n    if (price1 === null && showHide1 === true) {\n      alert(`\n        You must enter a Fixed Price for the NFT.\n      `);\n    }\n\n    if (price2 === '' && showHide2 === true) {\n      alert(`\n        You must enter a Starting Bid Price for the NFT.\n      `);\n    }\n\n    if (length === '' && showHide2 === true) {\n      alert(`\n        You must enter a Auction Length for the NFT.\n      `);\n    }\n\n    if (title1 !== '' && description !== '' && price1 !== null && showHide1 === true) {\n      alert(`\n        ____Your NFT____\\n\n        Name : ${title1}\n        Description : ${description}\n        Price : ${price1}\n      `);\n      name = title1;\n      des = description;\n      price = price1;\n      IpfsMetadata(hash);\n      items.mint();\n      buildNFT(name, des, price, null, null, hash);\n    }\n\n    if (title1 !== '' && description !== '' && price2 !== '' && length !== '' && showHide2 === true && price3 === '') {\n      alert(`\n        ____Your NFT____\\n\n        Name : ${title1}\n        Description : ${description}\n        Starting Bid : ${price2}\n        Auction Length : ${length}\n      `);\n      name = title1;\n      des = description;\n      price = price2;\n      auction = length;\n      IpfsMetadata(hash);\n      items.mint();\n      buildNFT(name, des, price, auction, null, hash);\n    } else if (title1 !== '' && description !== '' && price2 !== '' && length !== '' && showHide2 === true && price3 !== '') {\n      alert(`\n        ____Your NFT____\\n\n        Name : ${title1}\n        Description : ${description}\n        Starting Bid : ${price2}\n        Immediate Buy Price : ${price3}\n        Auction Length : ${length}\n      `);\n      name = title1;\n      des = description;\n      price = price2;\n      p3 = price3;\n      auction = length;\n      IpfsMetadata(hash);\n      items.mint();\n      buildNFT(name, des, price, auction, p3, hash);\n    }\n  };\n\n  const showHide = title1 => {\n    switch (title1) {\n      case \"showHide1\":\n        setShowHide1(!showHide1);\n\n        if (showHide2 === true) {\n          setShowHide2(false);\n        }\n\n        ;\n        break;\n\n      case \"showHide2\":\n        setShowHide2(!showHide2);\n\n        if (showHide1 === true) {\n          setShowHide1(false);\n        }\n\n        ;\n        break;\n\n      default:\n        setShowHide1(false);\n        setShowHide2(false);\n        break;\n    }\n  }; // Method causes to store all the values of the \n  // input field in react state single method handle \n  // input changes of all the input field using ES6 \n  // javascript feature computed property names\n\n\n  const handletitle1Change = event => {\n    // Computed property names\n    // keys of the objects are computed dynamically\n    setTitle1(event.target.value);\n    const title1 = event.target.value;\n    setState({\n      title1: title1\n    });\n  };\n\n  const handleDescChange = event => {\n    // Computed property names\n    // keys of the objects are computed dynamically\n    setDescription(event.target.value);\n    const description = event.target.value;\n    setState({\n      description: description\n    });\n  };\n\n  const handleprice1Change = event => {\n    // Computed property names\n    // keys of the objects are computed dynamically\n    setPrice1(event.target.value);\n    const price1 = event.target.value;\n    setState({\n      price1: price1\n    });\n  };\n\n  const handleprice2Change = event => {\n    // Computed property names\n    // keys of the objects are computed dynamically\n    setPrice2(event.target.value);\n    const price2 = event.target.value;\n    setState({\n      price2: price2\n    });\n  };\n\n  const handleprice3Change = event => {\n    // Computed property names\n    // keys of the objects are computed dynamically\n    setPrice3(event.target.value);\n    const price3 = event.target.value;\n    setState({\n      price3: price3\n    });\n  };\n\n  const handleLenChange = event => {\n    // Computed property names\n    // keys of the objects are computed dynamically\n    setLength(event.target.value);\n    const length = event.target.value;\n    setState({\n      length: length\n    });\n    const id = event.target.id;\n\n    for (var i = 1; i <= 3; i++) {\n      document.getElementById(\"Check\" + i).checked = false;\n    }\n\n    document.getElementById(id).checked = true;\n  };\n\n  const handleShow3 = childData => {\n    var sh3 = {\n      showHide3: childData\n    };\n    setShowHide3(sh3);\n  }; // Return a controlled form i.e. values of the \n  // input field not stored in DOM values are exist \n  // in react component itself as state\n\n\n  return /*#__PURE__*/_jsxDEV(Base, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(Center, {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            color: \"white\"\n          },\n          htmlFor: \"title1\",\n          children: [\"Name:\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            style: {\n              color: \"black\"\n            },\n            name: \"title1\",\n            value: state.title1,\n            placeholder: \"Name\",\n            onChange: handletitle1Change\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Center, {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            color: \"white\"\n          },\n          htmlFor: \"description\",\n          children: [\"What is this NFT?\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            style: {\n              color: \"black\"\n            },\n            name: \"description\",\n            value: state.description,\n            placeholder: \"Description\",\n            onChange: handleDescChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Center, {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            color: \"white\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            style: {\n              color: \"white\"\n            },\n            type: \"radio\",\n            name: \"tab\",\n            onClick: () => showHide(\"showHide1\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 9\n          }, this), \"Fixed Price:\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }, this), showHide1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Center, {\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              color: \"white\"\n            },\n            htmlFor: \"price1\",\n            children: [/*#__PURE__*/_jsxDEV(Center, {\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                style: {\n                  color: \"black\"\n                },\n                name: \"price1\",\n                type: \"number\",\n                value: state.price1,\n                placeholder: \"10.00\",\n                onChange: handleprice1Change\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 12\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 13\n            }, this), \"(**Price \", /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"NOT\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 22\n            }, this), \" Including Gas Fees**)\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Center, {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            color: \"white\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            name: \"tab\",\n            onClick: () => showHide(\"showHide2\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 9\n          }, this), \"Auction NFT\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 9\n      }, this), showHide2 && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: \"white\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Center, {\n          children: [\"Auction Length:\", /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-check form-check-inline\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"length\",\n                type: \"radio\",\n                id: \"Check1\",\n                value: state.length = \"24\",\n                onChange: handleLenChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 13\n              }, this), \"24 Hours\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-check form-check-inline\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"length\",\n                type: \"radio\",\n                id: \"Check2\",\n                value: state.length = \"48\",\n                onChange: handleLenChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 13\n              }, this), \"48 Hours\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"form-check form-check-inline\",\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                name: \"length\",\n                type: \"radio\",\n                id: \"Check3\",\n                value: state.length = \"72\",\n                onChange: handleLenChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 13\n              }, this), \"72 Hours\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Center, {\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\"Starting Bid Price:\", /*#__PURE__*/_jsxDEV(\"input\", {\n              style: {\n                color: \"black\"\n              },\n              name: \"price2\",\n              value: state.price2,\n              placeholder: \"10.00\",\n              onChange: handleprice2Change\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Center, {\n          children: [\"Immediate Buying Price:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            style: {\n              color: \"black\"\n            },\n            name: \"price3\",\n            value: state.price3,\n            placeholder: \"10.00 (Optional)\",\n            onChange: handleprice3Change\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Center, {\n          children: [\"(**Price\\xA0\", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"NOT\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 25\n          }, this), \"\\xA0Including Gas Fees**)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Center, {\n        children: /*#__PURE__*/_jsxDEV(IpfsUpload, {\n          parentCallback: handleShow3\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Center, {\n        children: showHide3 && /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          disabled: items.status !== IDLE,\n          children: /*#__PURE__*/_jsxDEV(NavLink, {\n            to: \"/\" + user.addr + \"/congrats\",\n            style: {\n              color: \"white\"\n            },\n            children: \"Create My NFT\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 68\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 273,\n    columnNumber: 7\n  }, this);\n}\n\n_s(CreateNFTCluster, \"E+MOfnO4WzP5HKafl1m8AXuzY5A=\", false, function () {\n  return [useCurrentUser, useAddress, useAccountItems];\n});\n\n_c2 = CreateNFTCluster;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"IpfsMetadata\");\n$RefreshReg$(_c2, \"CreateNFTCluster\");","map":{"version":3,"sources":["/Users/sky/Documents/Vaultv2_meta/web/src/parts/create-nft-cluster.comp.js"],"names":["React","useState","NavLink","Base","Button","Center","useAccountItems","IDLE","useAddress","useCurrentUser","Int","IpfsUpload","buildNFT","pinataSDK","hash","pKey","process","env","REACT_APP_PINATA_API_KEY","pSKey","REACT_APP_PINATA_SECRET_API_KEY","pinata","name","des","price","auction","p3","IpfsMetadata","cid","metadata","String","keyvalues","Description","Price","AuctionLength","ImmediatePrice","hashMetadata","then","result","console","log","catch","err","CreateNFTCluster","title1","setTitle1","description","setDescription","price1","setPrice1","price2","setPrice2","price3","setPrice3","length","setLength","showHide1","setShowHide1","showHide2","setShowHide2","showHide3","setShowHide3","state","setState","cu","user","address","items","handleSubmit","event","preventDefault","addr","alert","mint","showHide","handletitle1Change","target","value","handleDescChange","handleprice1Change","handleprice2Change","handleprice3Change","handleLenChange","id","i","document","getElementById","checked","handleShow3","childData","sh3","color","status"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\"\nimport { NavLink } from \"react-router-dom\"\nimport { Base } from \"./base.comp\"\nimport { Button, Center} from \"@chakra-ui/react\"\nimport { useAccountItems} from \"../hooks/use-account-items.hook\"\nimport {IDLE} from \"../global/constants\"\nimport {useAddress} from \"../hooks/use-url-address.hook\"\nimport {useCurrentUser} from \"../hooks/use-current-user.hook.js\"\nimport { Int } from \"@onflow/types\"\nimport IpfsUpload from './ipfsUpload.comp'\nimport { buildNFT } from \"../pages/routepages/newNFT.page\"\n//import { CidDict, cidID } from \"./account-items-cluster.comp\"\n\nimport pinataSDK from '@pinata/sdk';\nimport {hash} from './ipfsUpload.comp'\n\nconst pKey = process.env.REACT_APP_PINATA_API_KEY;\nconst pSKey = process.env.REACT_APP_PINATA_SECRET_API_KEY;\nconst pinata = pinataSDK( pKey, pSKey);\n\nvar name;\nvar des;\nvar price;\nvar auction;\nvar p3;\n\nexport function IpfsMetadata(cid){\n  const metadata = {\n      name: String(name),\n      keyvalues: {\n          Description: String(des),\n          Price: String(price),\n          AuctionLength: String(auction),\n          ImmediatePrice : String(p3) \n      }\n  };\n  pinata.hashMetadata(cid, metadata).then((result) => {\n      //handle results here\n      console.log(result);\n  }).catch((err) => {\n      //handle error here\n      console.log(err);\n  });\n}\n\nexport default function CreateNFTCluster(){ \n    \n  \n    const [title1, setTitle1] = useState('');\n    const [description, setDescription] = useState('');\n    const [price1, setPrice1] = useState(null);\n    const [price2, setPrice2] = useState('');\n    const [price3, setPrice3] = useState('');\n    const [length, setLength] = useState('');\n    const [showHide1, setShowHide1] = useState(false);\n    const [showHide2, setShowHide2] = useState(false);\n    const [showHide3, setShowHide3] = useState(false);\n    const [state, setState] = useState({\n      title1: '',\n      description: '',\n      price1: Int,\n      price2: '',\n      price3: '',\n      length: ''\n    })\n\n    const [cu, user] = useCurrentUser()\n    const address = useAddress()\n    const items = useAccountItems(address)\n    if (address == null) return <div>Not Found</div> \n\n    \n  \n  // Form submitting logic, prevent default page refresh \n  const handleSubmit = (event) =>{\n    event.preventDefault();\n\n\n    if(cu.addr === address){\n      console.log(\"good\")\n      //items.mint()\n    }else{\n      alert(`Must be logged on to your account`)\n    }\n\n    if(title1===''){\n      alert(`\n        You must enter a Name for the NFT.\n      `)\n    }\n    if(description===''){\n      alert(`\n        You must enter a Description for the NFT.\n      `)\n    }\n    if(price1===null && showHide1===false && showHide2===false){\n      alert(`\n        You must enter a Price for the NFT.\n      `)\n    }\n    if(price1===null && showHide1===true){\n      alert(`\n        You must enter a Fixed Price for the NFT.\n      `)\n    }\n    if(price2==='' && showHide2===true){\n      alert(`\n        You must enter a Starting Bid Price for the NFT.\n      `)\n    }\n    if(length==='' && showHide2===true){\n      alert(`\n        You must enter a Auction Length for the NFT.\n      `)\n    }\n    if(title1!=='' && description!=='' && price1!==null && showHide1===true){\n      alert(`\n        ____Your NFT____\\n\n        Name : ${title1}\n        Description : ${description}\n        Price : ${price1}\n      `)\n      name = title1\n      des = description\n      price = price1\n      IpfsMetadata(hash)\n      items.mint()\n      buildNFT(name, des, price, null, null, hash)\n    }\n    if(title1!=='' && description!=='' && price2!=='' && length!=='' && showHide2===true && price3===''){\n      alert(`\n        ____Your NFT____\\n\n        Name : ${title1}\n        Description : ${description}\n        Starting Bid : ${price2}\n        Auction Length : ${length}\n      `)\n      name = title1\n      des = description\n      price = price2\n      auction = length\n      IpfsMetadata(hash)\n      items.mint()\n      buildNFT(name, des, price, auction, null, hash)\n    }\n    else if(title1!=='' && description!=='' && price2!=='' && length!=='' && showHide2===true && price3!==''){\n      alert(`\n        ____Your NFT____\\n\n        Name : ${title1}\n        Description : ${description}\n        Starting Bid : ${price2}\n        Immediate Buy Price : ${price3}\n        Auction Length : ${length}\n      `)\n      name = title1\n      des = description\n      price = price2\n      p3 = price3\n      auction = length\n      IpfsMetadata(hash)\n      items.mint()\n      buildNFT(name, des, price, auction, p3, hash)\n    }\n  }\n\n  const showHide = (title1) => {\n    switch (title1) {\n      case \"showHide1\":\n        setShowHide1(!showHide1);\n        if(showHide2 === true){\n          setShowHide2(false)\n        };\n        break;\n      case \"showHide2\":\n        setShowHide2(!showHide2);\n        if(showHide1 === true){\n          setShowHide1(false)\n        };\n        break;\n        default:\n          setShowHide1(false);\n          setShowHide2(false);\n        break;\n    }\n  }\n\n\n  // Method causes to store all the values of the \n  // input field in react state single method handle \n  // input changes of all the input field using ES6 \n  // javascript feature computed property names\n  const handletitle1Change = (event) => {\n      // Computed property names\n      // keys of the objects are computed dynamically\n      setTitle1(event.target.value);\n      const title1 = event.target.value;\n        setState({\n          title1: title1\n        });\n      }\n\n  const handleDescChange = (event) => {\n      // Computed property names\n      // keys of the objects are computed dynamically\n      setDescription(event.target.value);\n      const description = event.target.value;\n        setState({\n          description: description\n        });\n      \n  }\n\n  const handleprice1Change = (event) => {\n    // Computed property names\n    // keys of the objects are computed dynamically\n    setPrice1(event.target.value);\n    const price1 = event.target.value;\n      setState({\n        price1: price1\n      });\n    \n}\n\nconst handleprice2Change = (event) => {\n  // Computed property names\n  // keys of the objects are computed dynamically\n  setPrice2(event.target.value);\n  const price2 = event.target.value;\n    setState({\n      price2: price2\n    });\n  \n}\n\nconst handleprice3Change = (event) => {\n  // Computed property names\n  // keys of the objects are computed dynamically\n  setPrice3(event.target.value);\n  const price3 = event.target.value;\n    setState({\n      price3: price3\n    });\n  \n}\n\nconst handleLenChange = (event) => {\n  // Computed property names\n  // keys of the objects are computed dynamically\n  setLength(event.target.value);\n  const length = event.target.value;\n    setState({\n      length: length\n    });\n    \n    const id = event.target.id;\n    for (var i = 1;i <= 3; i++)\n    {\n        document.getElementById(\"Check\" + i).checked = false;\n    }\n    document.getElementById(id).checked = true;\n  \n}\n\nconst handleShow3= (childData) => {\n  var sh3 = ({showHide3: childData})\n  setShowHide3(sh3)\n}\n\n  // Return a controlled form i.e. values of the \n  // input field not stored in DOM values are exist \n  // in react component itself as state\n    return(\n      <Base>\n      <form onSubmit={handleSubmit}>\n        <Center>\n          <label style={{color:\"white\"}} htmlFor='title1'>Name: \n          <br />\n          <input\n            style={{color:\"black\"}}\n            name=\"title1\"\n            value={state.title1}\n            placeholder='Name'\n            onChange={handletitle1Change}\n          />\n          </label>\n        </Center>\n          <br /><br />\n          <Center>\n          <label style={{color:\"white\"}} htmlFor='description'>What is this NFT?\n          <br />\n          <input\n            style={{color:\"black\"}}\n            name='description'\n            value={state.description}\n            placeholder='Description'\n            onChange={handleDescChange}\n          />\n          </label>\n          </Center>\n          <br /><br />\n        <Center>\n        <label style={{color:\"white\"}}>\n        <input style={{color:\"white\"}} type=\"radio\" name=\"tab\" onClick={() => showHide(\"showHide1\")} />\n          Fixed Price:\n        </label>\n        </Center>\n        { showHide1 && \n          <div>\n          <Center>\n          <label style={{color:\"white\"}} htmlFor='price1'>\n          <Center>\n           <input\n              style={{color:\"black\"}}\n              name='price1' \n              type=\"number\"\n              value={state.price1}\n              placeholder='10.00'\n              onChange={handleprice1Change}\n            />\n            </Center>\n            <br />\n            (**Price <b>NOT</b> Including Gas Fees**)\n            <br /><br />\n          </label>\n          </Center>\n         </div> \n        }\n        <Center>\n        <label style={{color:\"white\"}}> \n        <input type=\"radio\" name=\"tab\" onClick={() => showHide(\"showHide2\")} />\n          Auction NFT\n        </label>\n        </Center>\n        { showHide2 && \n          <div style={{color:\"white\"}}>\n            <Center>\n            Auction Length: \n            <div class='form-check form-check-inline'>\n            <label>\n            <input\n              name=\"length\"\n              type=\"radio\"\n              id=\"Check1\"\n              value={state.length = \"24\"}\n              onChange={handleLenChange} \n            />24 Hours\n            </label>\n            </div>\n            <div class='form-check form-check-inline'>\n            <label> \n            <input \n              name=\"length\"\n              type=\"radio\"\n              id=\"Check2\"\n              value={state.length = \"48\"}\n              onChange={handleLenChange} \n            />48 Hours\n            </label>\n            </div>\n            <div class='form-check form-check-inline'>\n            <label>\n            <input\n              name=\"length\"\n              type=\"radio\"\n              id=\"Check3\"\n              value={state.length = \"72\"}\n              onChange={handleLenChange} \n            />72 Hours\n            </label>\n            </div>\n            </Center>\n            <br />\n            <Center>\n            <label>\n            Starting Bid Price: \n          <input\n            style={{color:\"black\"}}\n            name='price2' \n            value={state.price2}\n            placeholder='10.00'\n            onChange={handleprice2Change}\n          />\n          </label>\n          </Center>\n          <br />\n            <Center>\n            Immediate Buying Price: \n          <input\n            style={{color:\"black\"}}\n            name='price3' \n            value={state.price3}\n            placeholder='10.00 (Optional)'\n            onChange={handleprice3Change}\n          />\n          </Center>\n          <br />\n          <Center>\n          (**Price&nbsp;<b>NOT</b>&nbsp;Including Gas Fees**)\n          </Center>\n          <br /><br />\n        </div>\n      }\n        <br />\n        \n        <Center>\n          <IpfsUpload parentCallback = {handleShow3}/>\n        </Center>\n\n        <br />\n\n        <Center>\n          {showHide3 &&\n            <Button type=\"submit\" disabled={items.status !== IDLE}><NavLink to={\"/\"+user.addr+\"/congrats\"} style={{color:\"white\"}}>Create My NFT</NavLink></Button>\n          }\n        </Center>\n\n      </form>\n      </Base>\n    )\n}\n\n\n\n"]},"metadata":{},"sourceType":"module"}