{"ast":null,"code":"var _jsxFileName = \"/Users/sky/Documents/Vaultv2/web/src/parts/UserSetPrice.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Int } from \"@onflow/types\";\nimport { useAccountItems } from \"../hooks/use-account-items.hook\";\nimport { IDLE } from \"../global/constants\";\nimport { useCurrentUser } from \"../hooks/use-current-user.hook.js\";\nimport { useAddress } from \"../hooks/use-url-address.hook\";\nimport { getItemID, useAccountItem } from \"../hooks/use-account-item.hook\";\nimport pinataSDK from '@pinata/sdk';\nimport { itemCid } from \"./account-items-cluster.comp\";\nimport { Button, Center } from '@chakra-ui/react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar p1;\nvar p2;\nvar p3;\nvar lengt;\nvar clicked;\nconst pKey = process.env.REACT_APP_PINATA_API_KEY;\nconst pSKey = process.env.REACT_APP_PINATA_SECRET_API_KEY;\nconst pinata = pinataSDK(pKey, pSKey);\n\nfunction IpfsMetadata(cidID, price) {\n  var cid = itemCid.get(cidID);\n  alert(`id is ${cidID}, cid is ${cid} and price is ${price}`);\n  const metadata = {\n    keyvalues: {\n      Price: String(price)\n    }\n  };\n  pinata.hashMetadata(cid, metadata).then(result => {\n    //handle results here\n    console.log(result);\n  }).catch(err => {\n    //handle error here\n    console.log(err);\n  });\n}\n\n_c = IpfsMetadata;\nexport function UserSetPrice(props) {\n  _s();\n\n  const [price1, setPrice1] = useState(null);\n  const [price2, setPrice2] = useState(null);\n  const [price3, setPrice3] = useState(null);\n  const [length, setLength] = useState('');\n  const [showHide1, setShowHide1] = useState(false);\n  const [showHide2, setShowHide2] = useState(false);\n  const [state, setState] = useState({\n    title1: '',\n    description: '',\n    price1: Int,\n    price2: Int,\n    price3: Int,\n    length: ''\n  }); //const item = useAccountItem\n\n  const address = useAddress();\n  const [cu] = useCurrentUser();\n  const items = useAccountItems(address);\n  var item = useAccountItem(address, props.sellNFT);\n  if (address == null) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Not Found\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 33\n  }, this);\n\n  const HandleSubmit = event => {\n    event.preventDefault(); //p1=parseInt(`${price1}`)\n\n    if (cu.addr !== address) {\n      alert(`Must be logged on to your account`);\n    }\n\n    if (price1 === null && isNaN(price1) && showHide1 === true) {\n      alert(`\n            You must enter a Fixed Price for the NFT.\n          `);\n    }\n\n    if (price2 === null && isNaN(price2) && showHide2 === true) {\n      alert(`\n            You must enter a Starting Bid Price for the NFT.\n          `);\n    }\n\n    if (isNaN(price3) && showHide2 === true) {\n      alert(`\n            Optional Bid must be a number.\n          `);\n    }\n\n    if (length === '' && showHide2 === true) {\n      alert(`\n            You must enter a Auction Length for the NFT.\n          `);\n    }\n\n    if (price1 !== null && showHide1 === true) {\n      alert(`\n            ____Your NFT____\\n\n            Price : ${price1}\n          `);\n      p1 = parseInt(`${price1}`);\n      p1 = p1.toFixed(2);\n      IpfsMetadata(props.sellNFT, p1);\n      getItemID(props.sellNFT, p1);\n      item.sell(p1);\n    }\n\n    if (price2 !== null && length !== '' && showHide2 === true && price3 === null) {\n      alert(`\n            ____Your NFT____\\n\n            Starting Bid : ${price2}\n            Auction Length : ${length}\n          `);\n      p2 = parseInt(`${price2}`);\n      p2 = p2.toFixed(2);\n      lengt = parseInt(`${length}`);\n      IpfsMetadata(props.sellNFT, p2);\n      getItemID(props.sellNFT, p2);\n      item.sell(p2);\n    } else if (price2 !== null && length !== '' && showHide2 === true && price3 !== null && !isNaN(price3)) {\n      alert(`\n            ____Your NFT____\\n\n            Starting Bid : ${price2}\n            Immediate Buy Price : ${price3}\n            Auction Length : ${length}\n          `);\n      p2 = parseInt(`${price2}`);\n      p3 = parseInt(`${price3}`);\n      lengt = parseInt(`${length}`);\n    }\n  };\n\n  const showHide = title1 => {\n    switch (title1) {\n      case \"showHide1\":\n        setShowHide1(!showHide1);\n\n        if (showHide2 === true) {\n          setShowHide2(false);\n        }\n\n        ;\n        break;\n\n      case \"showHide2\":\n        setShowHide2(!showHide2);\n\n        if (showHide1 === true) {\n          setShowHide1(false);\n        }\n\n        ;\n        break;\n\n      default:\n        setShowHide1(false);\n        setShowHide2(false);\n        break;\n    }\n  };\n\n  const handleprice1Change = event => {\n    // Computed property names\n    // keys of the objects are computed dynamically\n    setPrice1(event.target.value);\n    const price1 = event.target.value;\n    setState({\n      price1: price1\n    });\n  };\n\n  const handleprice2Change = event => {\n    // Computed property names\n    // keys of the objects are computed dynamically\n    setPrice2(event.target.value);\n    const price2 = event.target.value;\n    setState({\n      price2: price2\n    });\n  };\n\n  const handleprice3Change = event => {\n    // Computed property names\n    // keys of the objects are computed dynamically\n    setPrice3(event.target.value);\n    const price3 = event.target.value;\n    setState({\n      price3: price3\n    });\n  };\n\n  const handleLenChange = event => {\n    // Computed property names\n    // keys of the objects are computed dynamically\n    setLength(event.target.value);\n    const length = event.target.value;\n    setState({\n      length: length\n    });\n    const id = event.target.id;\n\n    for (var i = 1; i <= 3; i++) {\n      document.getElementById(\"Check\" + i).checked = false;\n    }\n\n    document.getElementById(id).checked = true;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: HandleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(Center, {\n      children: /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"radio\",\n          name: \"tab\",\n          onClick: () => showHide(\"showHide1\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 9\n        }, this), \"Fixed Price\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 5\n    }, this), showHide1 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Center, {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"price1\",\n          children: [/*#__PURE__*/_jsxDEV(Center, {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"price1\",\n              type: \"number\",\n              value: state.price1,\n              placeholder: \"10.00\",\n              onChange: handleprice1Change\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 12\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this), \"(**Price \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"NOT\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 22\n          }, this), \" Including Gas Fees**)\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(Center, {\n      children: /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"radio\",\n          name: \"tab\",\n          onClick: () => showHide(\"showHide2\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 9\n        }, this), \"Auction NFT\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 9\n    }, this), showHide2 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Center, {\n        children: [\"Auction Length:\", /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"form-check form-check-inline\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"length\",\n              type: \"radio\",\n              id: \"Check1\",\n              value: state.length = \"24\",\n              onChange: handleLenChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 13\n            }, this), \"24 Hours\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"form-check form-check-inline\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"length\",\n              type: \"radio\",\n              id: \"Check2\",\n              value: state.length = \"48\",\n              onChange: handleLenChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 13\n            }, this), \"48 Hours\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"form-check form-check-inline\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"length\",\n              type: \"radio\",\n              id: \"Check3\",\n              value: state.length = \"72\",\n              onChange: handleLenChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 13\n            }, this), \"72 Hours\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Center, {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Starting Bid Price:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"price2\",\n            type: \"number\",\n            value: state.price2,\n            placeholder: \"10.00\",\n            onChange: handleprice2Change\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Center, {\n        children: [\"Immediate Buying Price:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"price3\",\n          type: \"number\",\n          value: state.price3,\n          placeholder: \"10.00 (Optional)\",\n          onChange: handleprice3Change\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Center, {\n        children: [\"(**Price\\xA0\", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"NOT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 25\n        }, this), \"\\xA0Including Gas Fees**)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Center, {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        disabled: items.status !== IDLE,\n        style: {\n          color: \"Black\"\n        },\n        children: \"List My NFT For Sale\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 214,\n    columnNumber: 5\n  }, this);\n}\n\n_s(UserSetPrice, \"PIzaN0sSzUtFYd1NuJuEL+8C3hA=\", false, function () {\n  return [useAddress, useCurrentUser, useAccountItems, useAccountItem];\n});\n\n_c2 = UserSetPrice;\nexport { p1, p2, p3, lengt, clicked };\nexport default UserSetPrice;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"IpfsMetadata\");\n$RefreshReg$(_c2, \"UserSetPrice\");","map":{"version":3,"sources":["/Users/sky/Documents/Vaultv2/web/src/parts/UserSetPrice.js"],"names":["React","useState","Int","useAccountItems","IDLE","useCurrentUser","useAddress","getItemID","useAccountItem","pinataSDK","itemCid","Button","Center","p1","p2","p3","lengt","clicked","pKey","process","env","REACT_APP_PINATA_API_KEY","pSKey","REACT_APP_PINATA_SECRET_API_KEY","pinata","IpfsMetadata","cidID","price","cid","get","alert","metadata","keyvalues","Price","String","hashMetadata","then","result","console","log","catch","err","UserSetPrice","props","price1","setPrice1","price2","setPrice2","price3","setPrice3","length","setLength","showHide1","setShowHide1","showHide2","setShowHide2","state","setState","title1","description","address","cu","items","item","sellNFT","HandleSubmit","event","preventDefault","addr","isNaN","parseInt","toFixed","sell","showHide","handleprice1Change","target","value","handleprice2Change","handleprice3Change","handleLenChange","id","i","document","getElementById","checked","status","color"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAA+B,OAA/B;AACA,SAASC,GAAT,QAAoB,eAApB;AACA,SAASC,eAAT,QAA+B,iCAA/B;AACA,SAAQC,IAAR,QAAmB,qBAAnB;AACA,SAAQC,cAAR,QAA6B,mCAA7B;AACA,SAAQC,UAAR,QAAyB,+BAAzB;AACA,SAASC,SAAT,EAAoBC,cAApB,QAA0C,gCAA1C;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,SAASC,OAAT,QAAwB,8BAAxB;AACA,SACIC,MADJ,EAEIC,MAFJ,QAGO,kBAHP;;AAKA,IAAIC,EAAJ;AACA,IAAIC,EAAJ;AACA,IAAIC,EAAJ;AACA,IAAIC,KAAJ;AACA,IAAIC,OAAJ;AAEA,MAAMC,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,wBAAzB;AACA,MAAMC,KAAK,GAAGH,OAAO,CAACC,GAAR,CAAYG,+BAA1B;AACA,MAAMC,MAAM,GAAGf,SAAS,CAAES,IAAF,EAAQI,KAAR,CAAxB;;AAGA,SAASG,YAAT,CAAsBC,KAAtB,EAA6BC,KAA7B,EAAmC;AACjC,MAAIC,GAAG,GAAGlB,OAAO,CAACmB,GAAR,CAAYH,KAAZ,CAAV;AACAI,EAAAA,KAAK,CAAE,SAAQJ,KAAM,YAAWE,GAAI,iBAAgBD,KAAM,EAArD,CAAL;AACA,QAAMI,QAAQ,GAAG;AACbC,IAAAA,SAAS,EAAE;AACPC,MAAAA,KAAK,EAAEC,MAAM,CAACP,KAAD;AADN;AADE,GAAjB;AAKAH,EAAAA,MAAM,CAACW,YAAP,CAAoBP,GAApB,EAAyBG,QAAzB,EAAmCK,IAAnC,CAAyCC,MAAD,IAAY;AAChD;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACH,GAHD,EAGGG,KAHH,CAGUC,GAAD,IAAS;AACd;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACH,GAND;AAOD;;KAfQhB,Y;AAoBT,OAAO,SAASiB,YAAT,CAAsBC,KAAtB,EAA6B;AAAA;;AAEhC,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsB5C,QAAQ,CAAC,IAAD,CAApC;AACA,QAAM,CAAC6C,MAAD,EAASC,SAAT,IAAsB9C,QAAQ,CAAC,IAAD,CAApC;AACA,QAAM,CAAC+C,MAAD,EAASC,SAAT,IAAsBhD,QAAQ,CAAC,IAAD,CAApC;AACA,QAAM,CAACiD,MAAD,EAASC,SAAT,IAAsBlD,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACmD,SAAD,EAAYC,YAAZ,IAA4BpD,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CAACqD,SAAD,EAAYC,YAAZ,IAA4BtD,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CAACuD,KAAD,EAAQC,QAAR,IAAoBxD,QAAQ,CAAC;AACjCyD,IAAAA,MAAM,EAAE,EADyB;AAEjCC,IAAAA,WAAW,EAAE,EAFoB;AAGjCf,IAAAA,MAAM,EAAE1C,GAHyB;AAIjC4C,IAAAA,MAAM,EAAE5C,GAJyB;AAKjC8C,IAAAA,MAAM,EAAE9C,GALyB;AAMjCgD,IAAAA,MAAM,EAAE;AANyB,GAAD,CAAlC,CARgC,CAiBhC;;AACA,QAAMU,OAAO,GAAGtD,UAAU,EAA1B;AACA,QAAM,CAACuD,EAAD,IAAOxD,cAAc,EAA3B;AACA,QAAMyD,KAAK,GAAG3D,eAAe,CAACyD,OAAD,CAA7B;AACA,MAAIG,IAAI,GAAGvD,cAAc,CAACoD,OAAD,EAAUjB,KAAK,CAACqB,OAAhB,CAAzB;AACA,MAAIJ,OAAO,IAAI,IAAf,EAAqB,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;;AAOrB,QAAMK,YAAY,GAAIC,KAAD,IAAU;AAC3BA,IAAAA,KAAK,CAACC,cAAN,GAD2B,CAG3B;;AAEA,QAAGN,EAAE,CAACO,IAAH,KAAYR,OAAf,EAAuB;AACrB9B,MAAAA,KAAK,CAAE,mCAAF,CAAL;AACD;;AACD,QAAGc,MAAM,KAAG,IAAT,IAAiByB,KAAK,CAACzB,MAAD,CAAtB,IAAkCQ,SAAS,KAAG,IAAjD,EAAsD;AACpDtB,MAAAA,KAAK,CAAE;AACjB;AACA,WAFe,CAAL;AAGD;;AACD,QAAGgB,MAAM,KAAG,IAAT,IAAiBuB,KAAK,CAACvB,MAAD,CAAtB,IAAkCQ,SAAS,KAAG,IAAjD,EAAsD;AACpDxB,MAAAA,KAAK,CAAE;AACjB;AACA,WAFe,CAAL;AAGD;;AACD,QAAGuC,KAAK,CAACrB,MAAD,CAAL,IAAiBM,SAAS,KAAG,IAAhC,EAAqC;AACjCxB,MAAAA,KAAK,CAAE;AACnB;AACA,WAFiB,CAAL;AAGH;;AACD,QAAGoB,MAAM,KAAG,EAAT,IAAeI,SAAS,KAAG,IAA9B,EAAmC;AACjCxB,MAAAA,KAAK,CAAE;AACjB;AACA,WAFe,CAAL;AAGD;;AACD,QAAGc,MAAM,KAAG,IAAT,IAAiBQ,SAAS,KAAG,IAAhC,EAAqC;AACnCtB,MAAAA,KAAK,CAAE;AACjB;AACA,sBAAsBc,MAAO;AAC7B,WAHe,CAAL;AAIA/B,MAAAA,EAAE,GAACyD,QAAQ,CAAE,GAAE1B,MAAO,EAAX,CAAX;AACA/B,MAAAA,EAAE,GAACA,EAAE,CAAC0D,OAAH,CAAW,CAAX,CAAH;AACA9C,MAAAA,YAAY,CAACkB,KAAK,CAACqB,OAAP,EAAgBnD,EAAhB,CAAZ;AACAN,MAAAA,SAAS,CAACoC,KAAK,CAACqB,OAAP,EAAgBnD,EAAhB,CAAT;AACAkD,MAAAA,IAAI,CAACS,IAAL,CAAU3D,EAAV;AACD;;AACD,QAAGiC,MAAM,KAAG,IAAT,IAAiBI,MAAM,KAAG,EAA1B,IAAgCI,SAAS,KAAG,IAA5C,IAAoDN,MAAM,KAAG,IAAhE,EAAqE;AACnElB,MAAAA,KAAK,CAAE;AACjB;AACA,6BAA6BgB,MAAO;AACpC,+BAA+BI,MAAO;AACtC,WAJe,CAAL;AAKApC,MAAAA,EAAE,GAACwD,QAAQ,CAAE,GAAExB,MAAO,EAAX,CAAX;AACAhC,MAAAA,EAAE,GAACA,EAAE,CAACyD,OAAH,CAAW,CAAX,CAAH;AACAvD,MAAAA,KAAK,GAACsD,QAAQ,CAAE,GAAEpB,MAAO,EAAX,CAAd;AACAzB,MAAAA,YAAY,CAACkB,KAAK,CAACqB,OAAP,EAAgBlD,EAAhB,CAAZ;AACAP,MAAAA,SAAS,CAACoC,KAAK,CAACqB,OAAP,EAAgBlD,EAAhB,CAAT;AACAiD,MAAAA,IAAI,CAACS,IAAL,CAAU1D,EAAV;AACD,KAZD,MAaK,IAAGgC,MAAM,KAAG,IAAT,IAAiBI,MAAM,KAAG,EAA1B,IAAgCI,SAAS,KAAG,IAA5C,IAAoDN,MAAM,KAAG,IAA7D,IAAqE,CAACqB,KAAK,CAACrB,MAAD,CAA9E,EAAuF;AAC1FlB,MAAAA,KAAK,CAAE;AACjB;AACA,6BAA6BgB,MAAO;AACpC,oCAAoCE,MAAO;AAC3C,+BAA+BE,MAAO;AACtC,WALe,CAAL;AAMApC,MAAAA,EAAE,GAACwD,QAAQ,CAAE,GAAExB,MAAO,EAAX,CAAX;AACA/B,MAAAA,EAAE,GAACuD,QAAQ,CAAE,GAAEtB,MAAO,EAAX,CAAX;AACAhC,MAAAA,KAAK,GAACsD,QAAQ,CAAE,GAAEpB,MAAO,EAAX,CAAd;AACD;AACF,GA/DH;;AAiEA,QAAMuB,QAAQ,GAAIf,MAAD,IAAY;AACzB,YAAQA,MAAR;AACE,WAAK,WAAL;AACEL,QAAAA,YAAY,CAAC,CAACD,SAAF,CAAZ;;AACA,YAAGE,SAAS,KAAK,IAAjB,EAAsB;AACpBC,UAAAA,YAAY,CAAC,KAAD,CAAZ;AACD;;AAAA;AACD;;AACF,WAAK,WAAL;AACEA,QAAAA,YAAY,CAAC,CAACD,SAAF,CAAZ;;AACA,YAAGF,SAAS,KAAK,IAAjB,EAAsB;AACpBC,UAAAA,YAAY,CAAC,KAAD,CAAZ;AACD;;AAAA;AACD;;AACA;AACEA,QAAAA,YAAY,CAAC,KAAD,CAAZ;AACAE,QAAAA,YAAY,CAAC,KAAD,CAAZ;AACF;AAhBJ;AAkBH,GAnBD;;AAsBA,QAAMmB,kBAAkB,GAAIR,KAAD,IAAW;AAClC;AACA;AACArB,IAAAA,SAAS,CAACqB,KAAK,CAACS,MAAN,CAAaC,KAAd,CAAT;AACA,UAAMhC,MAAM,GAAGsB,KAAK,CAACS,MAAN,CAAaC,KAA5B;AACEnB,IAAAA,QAAQ,CAAC;AACPb,MAAAA,MAAM,EAAEA;AADD,KAAD,CAAR;AAIL,GATD;;AAWA,QAAMiC,kBAAkB,GAAIX,KAAD,IAAW;AACpC;AACA;AACAnB,IAAAA,SAAS,CAACmB,KAAK,CAACS,MAAN,CAAaC,KAAd,CAAT;AACA,UAAM9B,MAAM,GAAGoB,KAAK,CAACS,MAAN,CAAaC,KAA5B;AACEnB,IAAAA,QAAQ,CAAC;AACPX,MAAAA,MAAM,EAAEA;AADD,KAAD,CAAR;AAIH,GATD;;AAWA,QAAMgC,kBAAkB,GAAIZ,KAAD,IAAW;AACpC;AACA;AACAjB,IAAAA,SAAS,CAACiB,KAAK,CAACS,MAAN,CAAaC,KAAd,CAAT;AACA,UAAM5B,MAAM,GAAGkB,KAAK,CAACS,MAAN,CAAaC,KAA5B;AACEnB,IAAAA,QAAQ,CAAC;AACPT,MAAAA,MAAM,EAAEA;AADD,KAAD,CAAR;AAIH,GATD;;AAWA,QAAM+B,eAAe,GAAIb,KAAD,IAAW;AACjC;AACA;AACAf,IAAAA,SAAS,CAACe,KAAK,CAACS,MAAN,CAAaC,KAAd,CAAT;AACA,UAAM1B,MAAM,GAAGgB,KAAK,CAACS,MAAN,CAAaC,KAA5B;AACEnB,IAAAA,QAAQ,CAAC;AACPP,MAAAA,MAAM,EAAEA;AADD,KAAD,CAAR;AAIA,UAAM8B,EAAE,GAAGd,KAAK,CAACS,MAAN,CAAaK,EAAxB;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAeA,CAAC,IAAI,CAApB,EAAuBA,CAAC,EAAxB,EACA;AACIC,MAAAA,QAAQ,CAACC,cAAT,CAAwB,UAAUF,CAAlC,EAAqCG,OAArC,GAA+C,KAA/C;AACH;;AACDF,IAAAA,QAAQ,CAACC,cAAT,CAAwBH,EAAxB,EAA4BI,OAA5B,GAAsC,IAAtC;AAEH,GAhBD;;AAkBJ,sBACI;AAAM,IAAA,QAAQ,EAAEnB,YAAhB;AAAA,4BACA,QAAC,MAAD;AAAA,6BACI;AAAA,gCACA;AAAO,UAAA,IAAI,EAAC,OAAZ;AAAoB,UAAA,IAAI,EAAC,KAAzB;AAA+B,UAAA,OAAO,EAAE,MAAMQ,QAAQ,CAAC,WAAD;AAAtD;AAAA;AAAA;AAAA;AAAA,gBADA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADA,EAOMrB,SAAS,iBACT;AAAA,6BACA,QAAC,MAAD;AAAA,+BACA;AAAO,UAAA,OAAO,EAAC,QAAf;AAAA,kCACA,QAAC,MAAD;AAAA,mCACC;AACG,cAAA,IAAI,EAAC,QADR;AAEG,cAAA,IAAI,EAAC,QAFR;AAGG,cAAA,KAAK,EAAEI,KAAK,CAACZ,MAHhB;AAIG,cAAA,WAAW,EAAC,OAJf;AAKG,cAAA,QAAQ,EAAE8B;AALb;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,kBADA,eAUE;AAAA;AAAA;AAAA;AAAA,kBAVF,4BAWW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAXX,yCAYE;AAAA;AAAA;AAAA;AAAA,kBAZF,eAYQ;AAAA;AAAA;AAAA;AAAA,kBAZR;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,YARN,eA2BI,QAAC,MAAD;AAAA,6BACA;AAAA,gCACA;AAAO,UAAA,IAAI,EAAC,OAAZ;AAAoB,UAAA,IAAI,EAAC,KAAzB;AAA+B,UAAA,OAAO,EAAE,MAAMD,QAAQ,CAAC,WAAD;AAAtD;AAAA;AAAA;AAAA;AAAA,gBADA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,YA3BJ,EAiCMnB,SAAS,iBACT;AAAA,8BACE,QAAC,MAAD;AAAA,mDAEA;AAAK,UAAA,KAAK,EAAC,8BAAX;AAAA,iCACA;AAAA,oCACA;AACE,cAAA,IAAI,EAAC,QADP;AAEE,cAAA,IAAI,EAAC,OAFP;AAGE,cAAA,EAAE,EAAC,QAHL;AAIE,cAAA,KAAK,EAAEE,KAAK,CAACN,MAAN,GAAe,IAJxB;AAKE,cAAA,QAAQ,EAAE6B;AALZ;AAAA;AAAA;AAAA;AAAA,oBADA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,gBAFA,eAaA;AAAK,UAAA,KAAK,EAAC,8BAAX;AAAA,iCACA;AAAA,oCACA;AACE,cAAA,IAAI,EAAC,QADP;AAEE,cAAA,IAAI,EAAC,OAFP;AAGE,cAAA,EAAE,EAAC,QAHL;AAIE,cAAA,KAAK,EAAEvB,KAAK,CAACN,MAAN,GAAe,IAJxB;AAKE,cAAA,QAAQ,EAAE6B;AALZ;AAAA;AAAA;AAAA;AAAA,oBADA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,gBAbA,eAwBA;AAAK,UAAA,KAAK,EAAC,8BAAX;AAAA,iCACA;AAAA,oCACA;AACE,cAAA,IAAI,EAAC,QADP;AAEE,cAAA,IAAI,EAAC,OAFP;AAGE,cAAA,EAAE,EAAC,QAHL;AAIE,cAAA,KAAK,EAAEvB,KAAK,CAACN,MAAN,GAAe,IAJxB;AAKE,cAAA,QAAQ,EAAE6B;AALZ;AAAA;AAAA;AAAA;AAAA,oBADA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,gBAxBA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAqCE;AAAA;AAAA;AAAA;AAAA,cArCF,eAsCE,QAAC,MAAD;AAAA,+BACA;AAAA,yDAEF;AACE,YAAA,IAAI,EAAC,QADP;AAEE,YAAA,IAAI,EAAC,QAFP;AAGE,YAAA,KAAK,EAAEvB,KAAK,CAACV,MAHf;AAIE,YAAA,WAAW,EAAC,OAJd;AAKE,YAAA,QAAQ,EAAE+B;AALZ;AAAA;AAAA;AAAA;AAAA,kBAFE;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,cAtCF,eAkDA;AAAA;AAAA;AAAA;AAAA,cAlDA,eAmDE,QAAC,MAAD;AAAA,2DAEF;AACE,UAAA,IAAI,EAAC,QADP;AAEE,UAAA,IAAI,EAAC,QAFP;AAGE,UAAA,KAAK,EAAErB,KAAK,CAACR,MAHf;AAIE,UAAA,WAAW,EAAC,kBAJd;AAKE,UAAA,QAAQ,EAAE8B;AALZ;AAAA;AAAA;AAAA;AAAA,gBAFE;AAAA;AAAA;AAAA;AAAA;AAAA,cAnDF,eA6DA;AAAA;AAAA;AAAA;AAAA,cA7DA,eA8DA,QAAC,MAAD;AAAA,gDACc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADd;AAAA;AAAA;AAAA;AAAA;AAAA,cA9DA,eAiEA;AAAA;AAAA;AAAA;AAAA,cAjEA,eAiEM;AAAA;AAAA;AAAA;AAAA,cAjEN;AAAA;AAAA;AAAA;AAAA;AAAA,YAlCN,eAsGE;AAAA;AAAA;AAAA;AAAA,YAtGF,eAwGI,QAAC,MAAD;AAAA,6BAEE,QAAC,MAAD;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,QAAQ,EAAEhB,KAAK,CAACuB,MAAN,KAAiBjF,IAAjD;AAAuD,QAAA,KAAK,EAAE;AAACkF,UAAAA,KAAK,EAAC;AAAP,SAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFF;AAAA;AAAA;AAAA;AAAA,YAxGJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAkHC;;GAzRe5C,Y;UAkBIpC,U,EACHD,c,EACCF,e,EACHK,c;;;MArBCkC,Y;AA6RhB,SAAQ7B,EAAR,EAAYC,EAAZ,EAAgBC,EAAhB,EAAoBC,KAApB,EAA2BC,OAA3B;AACA,eAAeyB,YAAf","sourcesContent":["import React, { useState} from \"react\"\nimport { Int } from \"@onflow/types\"\nimport { useAccountItems} from \"../hooks/use-account-items.hook\"\nimport {IDLE} from \"../global/constants\"\nimport {useCurrentUser} from \"../hooks/use-current-user.hook.js\"\nimport {useAddress} from \"../hooks/use-url-address.hook\"\nimport { getItemID, useAccountItem } from \"../hooks/use-account-item.hook\"\nimport pinataSDK from '@pinata/sdk';\nimport { itemCid } from \"./account-items-cluster.comp\"\nimport{\n    Button,\n    Center,\n} from '@chakra-ui/react'\n\nvar p1;\nvar p2;\nvar p3;\nvar lengt;\nvar clicked;\n\nconst pKey = process.env.REACT_APP_PINATA_API_KEY;\nconst pSKey = process.env.REACT_APP_PINATA_SECRET_API_KEY;\nconst pinata = pinataSDK( pKey, pSKey);\n\n\nfunction IpfsMetadata(cidID, price){\n  var cid = itemCid.get(cidID)\n  alert(`id is ${cidID}, cid is ${cid} and price is ${price}`)\n  const metadata = {\n      keyvalues: {\n          Price: String(price)\n      }\n  };\n  pinata.hashMetadata(cid, metadata).then((result) => {\n      //handle results here\n      console.log(result);\n  }).catch((err) => {\n      //handle error here\n      console.log(err);\n  });\n}\n\n\n\n\nexport function UserSetPrice(props) {\n\n    const [price1, setPrice1] = useState(null);\n    const [price2, setPrice2] = useState(null);\n    const [price3, setPrice3] = useState(null);\n    const [length, setLength] = useState('');\n    const [showHide1, setShowHide1] = useState(false);\n    const [showHide2, setShowHide2] = useState(false);\n    const [state, setState] = useState({\n      title1: '',\n      description: '',\n      price1: Int,\n      price2: Int,\n      price3: Int,\n      length: ''\n    })\n\n    //const item = useAccountItem\n    const address = useAddress()\n    const [cu] = useCurrentUser()\n    const items = useAccountItems(address)\n    var item = useAccountItem(address, props.sellNFT)\n    if (address == null) return <div>Not Found</div> \n    \n\n    \n\n\n\n    const HandleSubmit = (event) =>{\n        event.preventDefault();\n        \n        //p1=parseInt(`${price1}`)\n    \n        if(cu.addr !== address){\n          alert(`Must be logged on to your account`)\n        }\n        if(price1===null && isNaN(price1) && showHide1===true){\n          alert(`\n            You must enter a Fixed Price for the NFT.\n          `)\n        }\n        if(price2===null && isNaN(price2) && showHide2===true){\n          alert(`\n            You must enter a Starting Bid Price for the NFT.\n          `)\n        }\n        if(isNaN(price3) && showHide2===true){\n            alert(`\n            Optional Bid must be a number.\n          `)\n        }\n        if(length==='' && showHide2===true){\n          alert(`\n            You must enter a Auction Length for the NFT.\n          `)\n        }\n        if(price1!==null && showHide1===true){\n          alert(`\n            ____Your NFT____\\n\n            Price : ${price1}\n          `)\n          p1=parseInt(`${price1}`)\n          p1=p1.toFixed(2)\n          IpfsMetadata(props.sellNFT, p1)\n          getItemID(props.sellNFT, p1)\n          item.sell(p1)\n        }\n        if(price2!==null && length!=='' && showHide2===true && price3===null){\n          alert(`\n            ____Your NFT____\\n\n            Starting Bid : ${price2}\n            Auction Length : ${length}\n          `)\n          p2=parseInt(`${price2}`)\n          p2=p2.toFixed(2)\n          lengt=parseInt(`${length}`)\n          IpfsMetadata(props.sellNFT, p2)\n          getItemID(props.sellNFT, p2)\n          item.sell(p2)\n        }\n        else if(price2!==null && length!=='' && showHide2===true && price3!==null && !isNaN(price3)){\n          alert(`\n            ____Your NFT____\\n\n            Starting Bid : ${price2}\n            Immediate Buy Price : ${price3}\n            Auction Length : ${length}\n          `)\n          p2=parseInt(`${price2}`)\n          p3=parseInt(`${price3}`)\n          lengt=parseInt(`${length}`)\n        }\n      }\n\n    const showHide = (title1) => {\n        switch (title1) {\n          case \"showHide1\":\n            setShowHide1(!showHide1);\n            if(showHide2 === true){\n              setShowHide2(false)\n            };\n            break;\n          case \"showHide2\":\n            setShowHide2(!showHide2);\n            if(showHide1 === true){\n              setShowHide1(false)\n            };\n            break;\n            default:\n              setShowHide1(false);\n              setShowHide2(false);\n            break;\n        }\n    }\n\n\n    const handleprice1Change = (event) => {\n        // Computed property names\n        // keys of the objects are computed dynamically\n        setPrice1(event.target.value);\n        const price1 = event.target.value;\n          setState({\n            price1: price1\n          });\n        \n    }\n    \n    const handleprice2Change = (event) => {\n      // Computed property names\n      // keys of the objects are computed dynamically\n      setPrice2(event.target.value);\n      const price2 = event.target.value;\n        setState({\n          price2: price2\n        });\n      \n    }\n    \n    const handleprice3Change = (event) => {\n      // Computed property names\n      // keys of the objects are computed dynamically\n      setPrice3(event.target.value);\n      const price3 = event.target.value;\n        setState({\n          price3: price3\n        });\n      \n    }\n    \n    const handleLenChange = (event) => {\n      // Computed property names\n      // keys of the objects are computed dynamically\n      setLength(event.target.value);\n      const length = event.target.value;\n        setState({\n          length: length\n        });\n        \n        const id = event.target.id;\n        for (var i = 1;i <= 3; i++)\n        {\n            document.getElementById(\"Check\" + i).checked = false;\n        }\n        document.getElementById(id).checked = true;\n      \n    }\n\nreturn(\n    <form onSubmit={HandleSubmit}>\n    <Center>\n        <label>\n        <input type=\"radio\" name=\"tab\" onClick={() => showHide(\"showHide1\")} />\n          Fixed Price\n        </label>\n        </Center>\n        { showHide1 && \n          <div>\n          <Center>\n          <label htmlFor='price1'>\n          <Center>\n           <input\n              name='price1' \n              type=\"number\"\n              value={state.price1}\n              placeholder='10.00'\n              onChange={handleprice1Change}\n            />\n            </Center>\n            <br />\n            (**Price <b>NOT</b> Including Gas Fees**)\n            <br /><br />\n          </label>\n          </Center>\n         </div> \n        }\n        <Center>\n        <label> \n        <input type=\"radio\" name=\"tab\" onClick={() => showHide(\"showHide2\")} />\n          Auction NFT\n        </label>\n        </Center>\n        { showHide2 && \n          <div>\n            <Center>\n            Auction Length: \n            <div class='form-check form-check-inline'>\n            <label>\n            <input\n              name=\"length\"\n              type=\"radio\"\n              id=\"Check1\"\n              value={state.length = \"24\"}\n              onChange={handleLenChange} \n            />24 Hours\n            </label>\n            </div>\n            <div class='form-check form-check-inline'>\n            <label> \n            <input\n              name=\"length\"\n              type=\"radio\"\n              id=\"Check2\"\n              value={state.length = \"48\"}\n              onChange={handleLenChange} \n            />48 Hours\n            </label>\n            </div>\n            <div class='form-check form-check-inline'>\n            <label>\n            <input\n              name=\"length\"\n              type=\"radio\"\n              id=\"Check3\"\n              value={state.length = \"72\"}\n              onChange={handleLenChange} \n            />72 Hours\n            </label>\n            </div>\n            </Center>\n            <br />\n            <Center>\n            <label>\n            Starting Bid Price: \n          <input\n            name='price2' \n            type=\"number\"\n            value={state.price2}\n            placeholder='10.00'\n            onChange={handleprice2Change}\n          />\n          </label>\n          </Center>\n          <br />\n            <Center>\n            Immediate Buying Price: \n          <input\n            name='price3' \n            type=\"number\"\n            value={state.price3}\n            placeholder='10.00 (Optional)'\n            onChange={handleprice3Change}\n          />\n          </Center>\n          <br />\n          <Center>\n          (**Price&nbsp;<b>NOT</b>&nbsp;Including Gas Fees**)\n          </Center>\n          <br /><br />\n        </div>\n      }\n      <br />\n        \n        <Center>\n\n          <Button type=\"submit\" disabled={items.status !== IDLE} style={{color:\"Black\"}}>\n            List My NFT For Sale\n          </Button>\n\n        </Center>\n      </form>\n    )\n}\n\n\n\nexport {p1, p2, p3, lengt, clicked};\nexport default UserSetPrice;"]},"metadata":{},"sourceType":"module"}